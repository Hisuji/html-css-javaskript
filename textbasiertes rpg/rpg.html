<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>RPG</title>
    <link rel="stylesheet" href="rpg.css">
</head>

<body>


    <h1>Text abenteuer</h1>
    
    <div>
    <button class='start' id="start-knf" value="start" onclick=start()> start</button>
    </div>

    <p id="geschichtstext"></p>

    <section id="ausblenden">
        <ol>
            <li id="option1"></li>
            <li id="option2"></li>
            <li id="option3"></li>
        </ol>
    </section>

        <br>


    <button id="weiter" onclick=weiter()>weiter</button>
    
    
    <button id="option1-knf" onclick=antwort(0)>1.</button>
    <button id="option2-knf" onclick=antwort(1)>2.</button>
    <button id="option3-knf" onclick=antwort(2)>3.</button>

    
    <script>
        // array texte. am besten für jeden weg 1 für die übersicht
        
        let texte = [
            { // 0
                'text': 'Als sie den Brunnen erreichte, hörte sie ein sanftes Plätschern und sah eine funkelnde Wasseroberfläche. Sie schloss die Augen und überlegte, was sie sich wünschen sollte. Plötzlich ertönte eine Stimme aus dem Brunnen: „Wähle weise, Mia. Du hast drei Möglichkeiten!“',
                'antworten': [
                    {
                        'option': 'Wunsch: Unendlicher Reichtum',
                        'naechste': 1
                    },
                    {
                        'option': 'Wunsch: Unsterblichkeit',
                        'naechste': 2
                    },
                    {
                        'option': 'Wunsch: Wahres Glück',
                        'naechste': 3
                    },
                ]
            },
            { // 1
                'text': 'Mia wählt den Wunsch nach unendlichem Reichtum.„Ich wünsche mir unendlichen Reichtum!“, rief sie voller Überzeugung. Das Wasser im Brunnen begann zu glühen, und goldene Münzen quol aus dem Brunnen. In diesem Moment fühlte sie sich überglücklich. als sie in das dorf ging um sich die teuersten wahren zu kaufen wahren die leute voller neid. da kam plötzlich ein bettler in lumpen und halb erfrohren und fragte ob sie ihm helfen könnte',
                'antworten': [
                    {
                        'option': 'aaa',
                        'naechste': 4
                    },
                    {
                        'option': 'bbb',
                        'naechste': ''
                    },
                    {
                        'option': 'ddd',
                        'naechste': ''
                    },
                ]
            },
            { // 2
                'text': 'Mia wählt den Wunsch nach Unsterblichkeit',
                'antworten': [
                    {
                        'option': 'asd',
                        'naechste': ''
                    },
                    {
                        'option': 'sdf',
                        'naechste': ''
                    },
                    {
                        'option': 'dfg',
                        'naechste': ''
                    },
                ]
            },
            { // 3
                'text': 'Mia wählt den Wunsch nach Glück',
                'antworten': [
                    {
                        'option': 'asd',
                        'naechste': ''
                    },
                    {
                        'option': 'sdf',
                        'naechste': ''
                    },
                    {
                        'option': 'dfg',
                        'naechste': ''
                    },
                ]
            },
            { // 4
                'text': 'LOL',
                'antworten': [
                    {
                        'option': 'asd',
                        'naechste': ''
                    },
                    {
                        'option': 'sdf',
                        'naechste': ''
                    },
                    {
                        'option': 'dfg',
                        'naechste': ''
                    },
                ]
            },
        ];
        let antworten = [];
        let antwortZaehler = 0;
        let aktuelleFrage = 0;
        let letzteFrage;
    
        document.getElementById('geschichtstext').style.display = 'none';

        function versteckeOptionenText() {
            document.getElementById('option1').style.display = 'none';
            document.getElementById('option2').style.display = 'none';
            document.getElementById('option3').style.display = 'none';
        }
        function versteckeOptionen() {
            document.getElementById('option1-knf').style.display = 'none'; 
            document.getElementById('option2-knf').style.display = 'none';
            document.getElementById('option3-knf').style.display = 'none';
        }
        function zeigeOptionen() {
            document.getElementById('option1-knf').style.display = ''; // show option
            document.getElementById('option2-knf').style.display = '';
            document.getElementById('option3-knf').style.display = '';
        }
        versteckeOptionen();

        document.getElementById('ausblenden').style.display = 'none';
        document.getElementById('weiter').style.display = 'none';

        function start() {
            document.getElementById('geschichtstext').innerHTML = 'In einem kleinen, malerischen Dorf gab es einen geheimnisvollen Brunnen, der Wünsche erfüllen konnte. Doch die Dorfbewohner wussten, dass jeder Wunsch auch seinen Preis hatte. Eines sonnigen Tages beschloss die junge Mia, den Brunnen aufzusuchen, um ihren sehnlichsten Wunsch zu äußern.';
            document.getElementById('start-knf').style.display = 'none';
            document.getElementById('geschichtstext').style.display = '';
            document.getElementById('weiter').style.display = '';
        }

        function geschichte() {
            document.getElementById('geschichtstext').innerHTML = texte[aktuelleFrage].text;
            select(aktuelleFrage)
            zeigeOptionen();
        }

        function geschichteweg1text(){

            document.getElementById('weiter').style.display = 'none';
            document.getElementById('geschichtstext').innerHTML = 'test'
        }

        function select(index){ // listen texte
            document.getElementById('option1').innerHTML = texte[index].antworten[0].option;
            document.getElementById('option2').innerHTML = texte[index].antworten[1].option;
            document.getElementById('option3').innerHTML = texte[index].antworten[2].option; 
        }

        //weg1
        function antwort(optionIndex){ // texte bei den auswahl buttons
            antwortZaehler++;
            letzteFrage = aktuelleFrage;
            aktuelleFrage = texte[aktuelleFrage].antworten[optionIndex].naechste

            geschichte()
        }

        // weitere wege
        function weiter() {
            geschichte()
            document.getElementById('weiter').style.display = 'none';
            document.getElementById('ausblenden').style.display = '';
        }

        //1 text: In einem kleinen, malerischen Dorf gab es einen geheimnisvollen Brunnen, der Wünsche erfüllen konnte. Doch die Dorfbewohner wussten, dass jeder Wunsch auch seinen Preis hatte. Eines sonnigen Tages beschloss die junge Mia, den Brunnen aufzusuchen, um ihren sehnlichsten Wunsch zu äußern. 
        //test

    </script>
</body>